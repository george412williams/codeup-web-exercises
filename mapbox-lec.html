<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Mapbox Lecture</title>

<!--following two lines are mapbox-->
    <script src='https://api.mapbox.com/mapbox-gl-js/v1.10.0/mapbox-gl.js'></script>
    <link href='https://api.mapbox.com/mapbox-gl-js/v1.10.0/mapbox-gl.css' rel='stylesheet' />

    <style>
        #map {
            width: 100%;
            height: 600px;
        }
    </style>

</head>
<body>
<!--
NOTES
-there are a number of diff services mapbox offers, we will specifically use mapbox GL JS (using JS)
-older mapbox JS, depricated
-version change to date: changing specific length and script
-curric code still jives, better to use still the mapbox documentation to copy/paste

-went to site, documentation, quick start
-copypaste those things and baby you got a map
-will be using through a CDN rather than installing as a button suggested (look into the rel btwn install and CDN)
-so get scripts in
-->





<!--REMEMBER: Scripts like these mapbox required go at the end of the body, along with like bootstrap's-->
<div id='map' style='width: 400px; height: 300px;'></div>
<script src="js/keys.js">
    //when you need to redirect to the secret keys page
</script>
<script>

    //mapboxgl.accessToken = 'pk.eyJ1IjoiZ2VvcmdlNDEyd2lsbGlhbXMiLCJhIjoiY2s5dmRuY3FrMGJtaTNrb2wzMWoxZ3JkayJ9.-tWzmK8_UcIad6genvKtGQ';
    //this publicly available API will be deleted and
    // replaced with file reference to file in .gitignore file
    //then go up and add its src
    mapboxgl.accessToken = mapboxKey;
    //so access to it can only happen on the site, not github where it could be compromized by bot easy

    //this creates the map object
    //can pass in an addition obj to configure
    //container: and style: are base req'd attributes
    var map = new mapboxgl.Map({
        container: 'map',
        style: 'mapbox://styles/mapbox/streets-v9',
        zoom: 10,
        center: [-98, 29]
    });
    //console map, is also an obj w many props and methods
    //much we can do with it, instead of trying to see what each prop does:
    //go to site documentation: https://docs.mapbox.com/mapbox-gl-js/api/
    //skim, commF, here to see
    //click examples to see ranging ones
    //can add add't props: zoom:
    //center: coords near SA
    //want to change zoom after load, zoom out?
    //consult the docs (bones)
    //setZoom shows equiv to jumpTo({zoom: zoom}), a ? means the parameter is optional
    //can do mult setZooms
    //console map.setZoom(10), to see it wo code change, redraws it and so forth
    //setCenter [coords], can specify coords with an obj:
    //center: {lng: 22, lat: 30}
    //W will be negative number, cortesian coordinate conversion, E and N will be pos and so on


</script>
<!--
real work happening in this custom script
can change style here
var map creates another obj, when we create a map obj can pass another obj for beh
container: has to match with div id
style: road, topo, sat, etc chosen here
enough to a map to be created, but can do much more when first created, more to come
best practice to avoid putting token on github, others can steal bc we rely on these codes
    there are bots skimming github to things that look like tokens, api keys etc.
    REMOVE:
    previouse class: email services for your app for auto emails, req authentication tokens
        some mbrs put it out there in git, the service found it, banned them for not being responsible
        keep in mind, can keep it from showing up
    inspet the page elements, on client side, no way to prevent seeing like personal sites
        not likely to take that versus github
    so other users seeing is generally ok, github is the hot center


there is a specific var that rels to maps: mapboxgl. refers to whole mapbox tech to play with
open a console and do mapboxgl and displays as ojbect
can create a new mapbox object, in obj you find the property accessToken, autos to your public access key
can swap it out with other key
if creating a proj with it, use a unique API key for it
want to create a new API key for each proj, if stolen you can change just that API key instead of all
-->
</body>
</html>


<!--
POST EXERCISE NOTES
EX1
    He wrote what he wanted first:

    map.setZoom(3);
    map.setStyle('mapbox://styles/mapbox/satellite-v9');
    map.setCenter([-98.58, 39.83]);

    then wrapped it

    setTimeOut(function () {
        map.stuff(new stuff);
    }, 5000;
-->

<!--
EXERCISE INSTRU SOLUTIONS

//Instruct solution walkthrough   ALSO in mapbox-lec.html

    //added street addy as an added level
    //thought proc: have map, centered btwn the 3 restaurants, array not doing anything currently
    //forEach to create a marker and popup
    //made new var and geocoded marker and popup
    //made a list to go by:
    //1. log name ea restaurant
    //2. geocode, log coords of ea
    //3. add markers for ea coord
    //4. add popups to ea marker w html w name and msg

    //restaurant.forEach(function(restaurant) {
    //      console.log(restaurant.name);
    //}

    //so that was step 1
    //now to geocode ea's phys addy, so put it into the forEach now

    //restaurants.forEach(function(restaurant) {
    //      geocode(restaurant.address, mapboxKey).then(function() {    //singular to point to one instead of the bunch
    //          console.log.(coords);     //used coords in the same place of 'results' from earlier
    //      });                                 //.then sending request to servers, geocode fires DTP request
    //};                                        //to servers, signal has to travel, takes a second
                                            //code runs before travel is done, so .then code waits for response
    //gives 3 sets of coords to the corresponding array pieces

    //step 3 marker

    //restaurants.forEach(function(restaurant) {
    //      geocode(restaurant.address, mapboxKey).then(function() {
    //          // create marker using coords
                //var marker = new mapboxgl.Marker()    //two things to display marker
                    //.setLngLat(coords)            //no semicolons
                    //.addTo(map);
                //var poup = new mapboxgl.Popup()
                    //.setHTML("<h3>" + restaurant.name + "</h3>" + "<p>" + restaurant.message + "</p>");
                //marker.setPopup(poup);
    //      });
    //};

    //q: how creating 3 markers from one loop
    //a: bonus to add to markers, i suggested doing an addTo with index of new array addition
    //   instru initially said new array objects would not run through the geocode
    //   so new ones do not run through it

    //on popup, instead of marker.popup had .popup and it jsut immediately popped up under marker section
    //    under marker var definition... check it out, stud said immediate popup, instr said should be undefined

    //My Q for later: dynamic arrays? adding to arrays after functions formed...he said it's complicated

    //Student ver: gave copy
-->