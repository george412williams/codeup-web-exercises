<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Weather Map Project</title>
    <script src='https://api.mapbox.com/mapbox-gl-js/v1.10.0/mapbox-gl.js'></script>
    <link href='https://api.mapbox.com/mapbox-gl-js/v1.10.0/mapbox-gl.css' rel='stylesheet' />
    <style>

        #forecastData {
            border: solid 1px black;
            border-radius: 10px;
            height: 80px;
            width: 100px;
            /*width: fit-content;*/
        }

    </style>


</head>
<body>

<header>
    <h2>Weather App</h2>
</header>

<div id="bonusLater"></div>

<div id="forecastData" class="container">

</div>

<div id="map" style="width: 100vw; height: 400px;">

</div>


<script src="js/jquery-2.2.4.js"></script>â€‹
<script src="js/keys.js"></script>
<script src="js/mapbox-geocode.js"></script>
<script>
    "use strict";
    $(document).ready(function() {

        mapboxgl.accessToken = MAPBOX_KEY;
        var map = new mapboxgl.Map({
            container: 'map',
            style: 'mapbox://styles/mapbox/streets-v9'
        });

        var weatherUrl = 'https://api.openweathermap.org/data/2.5/onecall';
        var weatherOptions = {
            lat: 29.4241,
            lon: -98.4936,
            appid: OPEN_WEATHER_APPID,
            exclude: 'minutely, current, hourly',
            units: 'imperial'
        };

        $.get(weatherUrl, weatherOptions).done(function (data) {
            console.log(data);
            $.each(data, function (index, daysWeather) {
                var forecast5 = "<div class='dayEntry'>";
                forecast5 += daysWeather.dialy.temp.day;
                // forecast5 += daysWeather.dialy[1].temp.day;
                // forecast5 += daysWeather.dialy[2].temp.day;
                // forecast5 += daysWeather.dialy[3].temp.day;
                // forecast5 += daysWeather.dialy[4].temp.day;
                $('#forecastData').append(forecast5);
            });

        });

        geocode({
            lat: 29.4241,
            lon: -98.4936
        }, MAPBOX_KEY).then(function(result) {
            console.log(result);
            map.setCenter(result);
            map.setZoom(10);
        });

        // reverseGeocode({
        //     lat: 29.4241,
        //     lon: -98.4936
        // }, MAPBOX_KEY).then(function(result) {
        //     console.log(result);
        //     // map.setCenter(result);
        //     // map.setZoom(10);
        // });


        //option from a stu q
        //add after the vars
        // function parseDate(timestamp) {
        //     return new Date(timestamp * 1000).toLocaleDateString();
        // }


    // JS IFEE END
    });
</script>
</body>
</html>