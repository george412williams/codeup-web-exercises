<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Weather Map Project</title>
    <script src='https://api.mapbox.com/mapbox-gl-js/v1.10.0/mapbox-gl.js'></script>
    <link href='https://api.mapbox.com/mapbox-gl-js/v1.10.0/mapbox-gl.css' rel='stylesheet' />
</head>
<body>

<header>
    <h2>Weather App</h2>
</header>

<div id="bonusLater"></div>

<div id="forecastData" class="container">

</div>

<div id="map" style="width: 100vw; height: 400px;">

</div>


<script src="js/jquery-2.2.4.js"></script>â€‹
<script src="js/keys.js"></script>
<script src="js/mapbox-geocode.js"></script>
<script>
    "use strict";
    $(document).ready(function() {

        mapboxgl.accessToken = MAPBOX_KEY;
        var map = new mapboxgl.Map({
            container: 'map',
            style: 'mapbox://styles/mapbox/streets-v9'

        });


        var weatherUrl = 'https://api.openweathermap.org/data/2.5/onecall';
        var weatherOptions = {
            //we need to define some options
            lat: 29.4241,     //san antonio coords
            lon: -98.4936,
            //now need to define appid, wo it will be denied the info
            appid: OPEN_WEATHER_APPID,
            exclude: 'minutely, current, hourly'
            //returns info for 8 day forecast
        };
        //have not sent request yet, just setting up vars
        //site to req data from
        //second is the info we want, don't need at all
        //bc you can define it in the url as a written out query string



        //can pass two arguments, url and an obj w props that will be converted
        $.get(weatherUrl, weatherOptions).done(function (data) {
            console.log(data);
            $.each(data, function (index, daysWeather) {
                var forecast5 = "<div class='dayEntry'>";
                forecast5 += daysWeather.dialy.temp.day;

            });

        });

        reverseGeocode({
            lat: 29.4241,
            lon: -98.4936
        }, MAPBOX_KEY).then(function(result) {
            console.log(result);
            map.setCenter(result);
            map.setZoom(10);
        });

        // geocode("San Antonio, TX", MAPBOX_KEY).done(function(result) {
        //     console.log(result);
        //     map.setCenter(result);
        //     map.setZoom(10);
        // });

        //option from a stu q
        //add after the vars
        // function parseDate(timestamp) {
        //     return new Date(timestamp * 1000).toLocaleDateString();
        // }

    // JS IFEE END
    });
</script>
</body>
</html>